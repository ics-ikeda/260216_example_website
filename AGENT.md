# Agent Rules

# 以下のルールファイルを参照すること

- .cursor/rules/index.mdc

# 作業したら

- 以下のコマンドを作業したら実行すること
  - `npm run fmt`
  - `npm run build`
- エラーやワーニングが発生したら修正すること


## 基本行動指針

- **日本語で応答**: ユーザーとの対話は常に日本語で行うこと。
- **英語禁止**: 英語で書かない（PR本文、コミットメッセージ、ドキュメント、コメントを含め日本語のみ）。
- **開始前ブランチ確認**: 作業開始直後にプルして、`main` / `master` では作業しないこと。
- **ルール遵守**: 本ドキュメント（`AGENT.md`）を必ず守ること。

## コーディング規約 & 制約

- **CSS**: 最新のCSS記法（Nesting等）を積極的に採用すること。古い書き方は禁止。
- **依存関係**: 新規モジュール導入時は必ず最新バージョンを確認し使用すること。
- **ECMAScript**: ES2025 (最新版) の構文を使用すること。
- **Node.js**: v24以上必須。v22以下の古いAPIや書き方は厳禁。
- **型判定**: 値の型判定に JavaScript の `typeof`を使わないこと。
- **globalThis参照**: `globalThis.window` の存在判定をしないこと。`globalThis` を直接使うこと。

## PR & Git運用

- **PRタイトル**: `<type>: <説明>` 形式を必須（CIでチェックされる）。
    - type: `feat` / `fix` / `docs` / `chore` / `refactor` / `perf` / `test` / `style` / `build` / `ci` / `revert`
    - 良い例: `feat: スライド切り替え機能の実装`, `fix: 画像パスの解決ロジックを修正`
    - 悪い例: `修正`, `機能追加`
- **コミット**: 細かく論理的な単位で行うこと。
- **テンプレート**: PR作成時は `.github/PULL_REQUEST_TEMPLATE.md` を使用し、各項目を埋めること。
- 作業を開始するときは、`main` ブランチを fetch・pull して最新であることを確認し、`feature/<task-name>` 形式の開発用ブランチを作成してから作業すること。

## 品質保証

- **1タスク1PR**: 巨大な変更を避け、スコープを絞る。
- コードの可読性: 短い変数名は使わないこと。NG：`idx`、`cnt`、`e`、`evt`
- JSDocコメントを記載すること
